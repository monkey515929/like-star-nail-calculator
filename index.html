<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <title>Like STar nail 計算機</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Noto Sans TC", sans-serif;
      background: #0f0f0f;
      color: #fff;
      padding: 20px;
    }
    h1 {
      text-align: center;
      font-weight: 500;
      letter-spacing: 1px;
    }
    .section {
      margin: 20px 0;
      padding: 15px;
      border-radius: 12px;
      background: #1a1a1a;
    }
    .section h3 {
      margin-bottom: 10px;
      font-size: 16px;
      border-left: 4px solid #cfae70;
      padding-left: 8px;
    }
    .item {
      display: flex;
      align-items: center;
      margin-bottom: 8px;
      gap: 6px;
    }
    .item span {
      flex: 1;
    }
    button {
      background: #cfae70;
      color: #000;
      border: none;
      border-radius: 6px;
      padding: 6px 10px;
      font-size: 16px;
    }
    .qty {
      width: 32px;
      text-align: center;
    }
    select, textarea {
      width: 100%;
      border-radius: 6px;
      padding: 6px;
      border: none;
      font-size: 14px;
    }
    textarea {
      min-height: 60px;
    }
    pre {
      white-space: pre-wrap;
      font-size: 14px;
      line-height: 1.6;
    }
    .total {
      font-size: 20px;
      text-align: center;
      margin-top: 10px;
    }
  </style>
</head>

<body>

<h1>Like STar nail</h1>

<!-- 基礎款 -->
<div class="section">
  <h3>基礎款</h3>

  <div class="item">
    <span>單色凝膠</span>
    <button onclick="changeQty(0,-1)">-</button>
    <span id="q0" class="qty">0</span>
    <button onclick="changeQty(0,1)">+</button>
  </div>

  <div class="item">
    <span>貓眼</span>
    <button onclick="changeQty(1,-1)">-</button>
    <span id="q1" class="qty">0</span>
    <button onclick="changeQty(1,1)">+</button>
  </div>

  <div class="item">
    <span>貓眼特殊吸法</span>
    <button onclick="changeQty(2,-1)">-</button>
    <span id="q2" class="qty">0</span>
    <button onclick="changeQty(2,1)">+</button>
  </div>

  <div class="item">
    <span>鏡面／亮片／漸層／法式</span>
    <button onclick="changeQty(3,-1)">-</button>
    <span id="q3" class="qty">0</span>
    <button onclick="changeQty(3,1)">+</button>
  </div>
</div>

<!-- 單指加價 -->
<div class="section">
  <h3>單指加價</h3>

  <div class="item">
    <span>手繪</span>
    <button onclick="changeQty(4,-1)">-</button>
    <span id="q4" class="qty">0</span>
    <button onclick="changeQty(4,1)">+</button>
  </div>

  <div class="item">
    <span>暈染</span>
    <button onclick="changeQty(5,-1)">-</button>
    <span id="q5" class="qty">0</span>
    <button onclick="changeQty(5,1)">+</button>
  </div>

  <div class="item">
    <span>立體造型／異材質</span>
    <button onclick="changeQty(6,-1)">-</button>
    <span id="q6" class="qty">0</span>
    <button onclick="changeQty(6,1)">+</button>
  </div>

  <div class="item">
    <span>延甲</span>
    <button onclick="changeQty(7,-1)">-</button>
    <span id="q7" class="qty">0</span>
    <button onclick="changeQty(7,1)">+</button>
  </div>
</div>

<!-- 卸甲 -->
<div class="section">
  <h3>卸甲</h3>

  <div class="item">
    <span>本店卸甲續作</span>
    <button onclick="changeQty(8,-1)">-</button>
    <span id="q8" class="qty">0</span>
    <button onclick="changeQty(8,1)">+</button>
  </div>

  <div class="item">
    <span>他店卸甲續作</span>
    <button onclick="changeQty(9,-1)">-</button>
    <span id="q9" class="qty">0</span>
    <button onclick="changeQty(9,1)">+</button>
  </div>
</div>

<!-- 訂金 -->
<div class="section">
  <h3>訂金扣除</h3>
  <select id="deposit" onchange="calculate()">
    <option value="0">不扣訂金</option>
    <option value="500">已收訂金 $500</option>
    <option value="1000">已收訂金 $1000</option>
  </select>
</div>

<!-- 備註 -->
<div class="section">
  <h3>備註</h3>
  <textarea id="note" placeholder="保固 / 下次預約 / 注意事項"></textarea>
</div>

<!-- 明細 -->
<div class="section">
  <h3>明細</h3>
  <pre id="detail"></pre>
  <div class="total">總金額：<span id="total">$0</span></div>
</div>

<div class="section">
  <button onclick="sendLine()">傳 LINE 給客人</button>
</div>

<script>
const items = [
  ["單色凝膠",800],
  ["貓眼",1000],
  ["貓眼特殊吸法",1200],
  ["鏡面／亮片／漸層／法式",1200],
  ["手繪",100],
  ["暈染",100],
  ["立體造型／異材質",100],
  ["延甲",100],
  ["本店卸甲續作",300],
  ["他店卸甲續作",400]
];

const qty = Array(items.length).fill(0);

function changeQty(i, n) {
  qty[i] = Math.max(0, qty[i] + n);
  document.getElementById("q"+i).innerText = qty[i];
  calculate();
}

function calculate() {
  let total = 0;
  let text = "Like STar nail 消費明細\n\n";

  items.forEach((item, i) => {
    if (qty[i] > 0) {
      const sub = item[1] * qty[i];
      total += sub;
      text += `${item[0]} × ${qty[i]}  $${sub}\n`;
    }
  });

  const dep = parseInt(document.getElementById("deposit").value);
  if (dep > 0) {
    total -= dep;
    text += `\n已扣訂金：-$${dep}\n`;
  }

  const note = document.getElementById("note").value.trim();
  if (note) {
    text += `\n備註：\n${note}\n`;
  }

  text += `\n應付金額：$${total}`;

  document.getElementById("detail").innerText = text;
  document.getElementById("total").innerText = "$" + total;
}

function sendLine() {
  calculate();
  const msg = document.getElementById("detail").innerText;
  window.open("https://line.me/R/msg/text/?" + encodeURIComponent(msg));
}
</script>

</body>
</html>