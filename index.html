<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Like STar nail｜報價計算</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
      background: #f6f6f6;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 20px;
    }
    .section {
      background: #fff;
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
    }
    .section h2 {
      margin-bottom: 12px;
      font-size: 18px;
      border-bottom: 1px solid #eee;
      padding-bottom: 6px;
    }
    .item {
      display: flex;
      align-items: center;
      margin-bottom: 10px;
      gap: 6px;
    }
    .item input[type="text"],
    .item input[type="number"] {
      width: 90px;
      padding: 4px;
    }
    .qty {
      display: flex;
      align-items: center;
      gap: 4px;
    }
    button {
      padding: 4px 8px;
      border: none;
      border-radius: 6px;
      background: #ddd;
    }
    .total {
      font-size: 20px;
      text-align: right;
      font-weight: bold;
    }
    pre {
      background: #fff;
      border-radius: 12px;
      padding: 16px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>

<h1>Like STar nail</h1>

<div class="section" id="basic">
  <h2>基礎款式</h2>
</div>

<div class="section" id="addon">
  <h2>單指加價</h2>
</div>

<div class="section" id="remove">
  <h2>卸甲服務</h2>
</div>

<div class="section">
  <div class="total">合計：$<span id="total">0</span></div>
</div>

<div class="section">
  <h2>給客人的服務明細</h2>
  <pre id="summary"></pre>
</div>

<script>
const sections = {
  basic: [
    { name: '單色凝膠（10指）', price: 1200, qty: 0 }
  ],
  addon: [
    { name: '細筆手繪', price: 100, qty: 0 }
  ],
  remove: [
    { name: '他店卸甲', price: 300, qty: 0 }
  ]
};

function render() {
  let total = 0;
  let summary = 'Like STar nail\n服務明細\n\n';

  Object.keys(sections).forEach(key => {
    const container = document.getElementById(key);
    container.innerHTML = `<h2>${container.querySelector('h2').innerText}</h2>`;

    let sectionText = '';
    sections[key].forEach((item, index) => {
      total += item.price * item.qty;
      if (item.qty > 0) {
        sectionText += `${item.name} × ${item.qty}　$${item.price * item.qty}\n`;
      }

      const div = document.createElement('div');
      div.className = 'item';
      div.innerHTML = `
        <input type="text" value="${item.name}" onchange="sections['${key}'][${index}].name=this.value; render()">
        <input type="number" value="${item.price}" onchange="sections['${key}'][${index}].price=+this.value; render()">
        <div class="qty">
          <button onclick="sections['${key}'][${index}].qty--; if(sections['${key}'][${index}].qty<0)sections['${key}'][${index}].qty=0; render()">−</button>
          ${item.qty}
          <button onclick="sections['${key}'][${index}].qty++; render()">＋</button>
        </div>
      `;
      container.appendChild(div);
    });

    if (sectionText) {
      summary += `【${container.querySelector('h2').innerText}】\n${sectionText}\n`;
    }
  });

  document.getElementById('total').innerText = total;
  document.getElementById('summary').innerText = summary + `合計金額：$${total}`;
}

render();
</script>

</body>
</html>