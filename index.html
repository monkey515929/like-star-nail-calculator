<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Like STar Nail çµå¸³</title>
<style>
body {
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: #fafafa;
  padding: 16px;
}
h2 { margin-top: 24px; }
.section {
  background: #fff;
  border-radius: 12px;
  padding: 12px;
  margin-bottom: 16px;
}
.item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin: 8px 0;
}
.controls button {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  background: #000;
  color: #fff;
  font-size: 18px;
}
.controls span {
  margin: 0 8px;
  min-width: 24px;
  text-align: center;
}
textarea {
  width: 100%;
  height: 80px;
}
pre {
  background: #111;
  color: #fff;
  padding: 12px;
  border-radius: 12px;
  white-space: pre-wrap;
}
.admin {
  background: #f0f0f0;
  padding: 12px;
  border-radius: 12px;
}
.admin input {
  width: 45%;
}
</style>
</head>
<body>

<h1>Like STar Nail</h1>

<div id="app"></div>

<h2>âœ¨ çµ¦å®¢äººçš„æ˜ç´°</h2>
<pre id="receipt"></pre>

<h2>âœ å‚™è¨» / å‚³ LINE</h2>
<textarea id="note"></textarea>

<h2>ğŸ”’ å¾Œå°è¨­å®š</h2>
<div class="admin">
  <button onclick="addItem()">ï¼‹ æ–°å¢é …ç›®</button>
</div>

<script>
let items = [
  {cat:'åŸºæœ¬å–®è‰²', name:'å–®è‰²å‡è† ', price:800, qty:0},
  {cat:'åŠ åƒ¹å–®æŒ‡', name:'é¡é¢(å–®æŒ‡)', price:120, qty:0},
  {cat:'åŠ åƒ¹å–®æŒ‡', name:'ç«‹é«”é€ å‹/ç•°æè³ª(å–®æŒ‡)', price:100, qty:0},
  {cat:'å»¶ç”²', name:'å»¶ç”²(å–®æŒ‡)', price:100, qty:0},
  {cat:'å¸ç”²', name:'å¸ç”²(ä»–åº—)', price:500, qty:0},
  {cat:'æ‰£é™¤', name:'è¨‚é‡‘500', price:-500, qty:0},
  {cat:'æ‰£é™¤', name:'è¨‚é‡‘1000', price:-1000, qty:0},
];

function render() {
  const app = document.getElementById('app');
  app.innerHTML = '';
  let cats = [...new Set(items.map(i=>i.cat))];
  cats.forEach(cat=>{
    let sec = document.createElement('div');
    sec.className = 'section';
    sec.innerHTML = `<h2>${cat}</h2>`;
    items.filter(i=>i.cat===cat).forEach(i=>{
      let row = document.createElement('div');
      row.className = 'item';
      row.innerHTML = `
        <div>${i.name} $${i.price}</div>
        <div class="controls">
          <button onclick="i.qty--; if(i.qty<0)i.qty=0; render()">âˆ’</button>
          <span>${i.qty}</span>
          <button onclick="i.qty++; render()">ï¼‹</button>
        </div>
      `;
      sec.appendChild(row);
    });
    app.appendChild(sec);
  });
  updateReceipt();
}

function updateReceipt() {
  let lines = [];
  let total = 0;
  items.forEach(i=>{
    if(i.qty>0){
      let sum = i.price * i.qty;
      total += sum;
      lines.push(`${i.name} x${i.qty} : $${sum}`);
    }
  });
  let deposit = items.filter(i=>i.price<0 && i.qty>0)
                     .reduce((s,i)=>s+i.price*i.qty,0);
  let final = total + deposit;
  document.getElementById('receipt').textContent =
`âœ¨ Like STar Nail çµå¸³æ˜ç´° âœ¨
--------------------------
${lines.join('\n')}
--------------------------
ç¸½è¨ˆé‡‘é¡: $${total}
å·²ä»˜å®šé‡‘: $${deposit}
ç¾å ´æ‡‰ä»˜: $${final}
--------------------------
æœŸå¾…ä¸‹æ¬¡ç‚ºæ‚¨æœå‹™ï¼`;
}

function addItem(){
  items.push({cat:'è‡ªè¨‚', name:'æ–°é …ç›®', price:0, qty:0});
  render();
}

render();
</script>

</body>
</html>